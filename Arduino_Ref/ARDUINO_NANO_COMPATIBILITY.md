# –°—É–º—ñ—Å–Ω—ñ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç—É –∑ Arduino Nano

## –ê–Ω–∞–ª—ñ–∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ç–∞–π–º–µ—Ä—ñ–≤

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ç–∞–π–º–µ—Ä—ñ–≤ —É –ø—Ä–æ–µ–∫—Ç—ñ

–ü—Ä–æ–µ–∫—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î:
- ‚úÖ **Timer0** - –¥–ª—è `millis()` —Ç–∞ `micros()` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó Arduino)
- ‚úÖ **Timer0** - –¥–ª—è I2C —á–µ—Ä–µ–∑ –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É `Wire` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è)
- ‚úÖ **–ü–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è** - –¥–ª—è –µ–Ω–∫–æ–¥–µ—Ä–∞ (INT0, INT1) - –Ω–µ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å —Ç–∞–π–º–µ—Ä—ñ–≤
- ‚ùå **–î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ç–∞–π–º–µ—Ä–∏** - –ù–ï –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è

### –¢–∞–π–º–µ—Ä–∏ Arduino Nano

| –¢–∞–π–º–µ—Ä | –†–æ–∑–º—ñ—Ä | –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è | –î–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å |
|--------|--------|--------------|-------------|
| **Timer0** | 8-bit | millis(), micros(), delay() | ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è |
| **Timer1** | 16-bit | –í—ñ–ª—å–Ω–∏–π | ‚úÖ –î–æ—Å—Ç—É–ø–Ω–∏–π |
| **Timer2** | 8-bit | –í—ñ–ª—å–Ω–∏–π | ‚úÖ –î–æ—Å—Ç—É–ø–Ω–∏–π |

### –¢–∞–π–º–µ—Ä–∏ Arduino Mega

| –¢–∞–π–º–µ—Ä | –†–æ–∑–º—ñ—Ä | –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è | –î–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å |
|--------|--------|--------------|-------------|
| **Timer0** | 8-bit | millis(), micros(), delay() | ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è |
| **Timer1** | 16-bit | –í—ñ–ª—å–Ω–∏–π | ‚úÖ –î–æ—Å—Ç—É–ø–Ω–∏–π |
| **Timer2** | 8-bit | –í—ñ–ª—å–Ω–∏–π | ‚úÖ –î–æ—Å—Ç—É–ø–Ω–∏–π |
| **Timer3** | 16-bit | –í—ñ–ª—å–Ω–∏–π | ‚úÖ –î–æ—Å—Ç—É–ø–Ω–∏–π |
| **Timer4** | 16-bit | –í—ñ–ª—å–Ω–∏–π | ‚úÖ –î–æ—Å—Ç—É–ø–Ω–∏–π |
| **Timer5** | 16-bit | –í—ñ–ª—å–Ω–∏–π | ‚úÖ –î–æ—Å—Ç—É–ø–Ω–∏–π |

## ‚úÖ –í–∏—Å–Ω–æ–≤–æ–∫ –ø–æ —Ç–∞–π–º–µ—Ä–∞—Ö

**–¢–∞–π–º–µ—Ä—ñ–≤ –≤–∏—Å—Ç–∞—á–∏—Ç—å!** –ü—Ä–æ–µ–∫—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ç—ñ–ª—å–∫–∏ Timer0, —è–∫–∏–π —î –Ω–∞ –æ–±–æ—Ö –ø–ª–∞—Ç–∞—Ö.

---

## ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∏ —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ –∑ Arduino Nano

### 1. –ü—ñ–Ω–∏ (–∫—Ä–∏—Ç–∏—á–Ω–æ)

#### –ü—Ä–æ–±–ª–µ–º–Ω—ñ –ø—ñ–Ω–∏:

| –ü—ñ–Ω Mega | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ü—Ä–æ–±–ª–µ–º–∞ –Ω–∞ Nano |
|----------|-----------|------------------|
| **22** | –ö–Ω–æ–ø–∫–∞ —Å—Ç–∞—Ä—Ç-—Å—Ç–æ–ø | ‚ùå –ù–µ —ñ—Å–Ω—É—î (Nano –º–∞—î –ø—ñ–Ω–∏ 0-13) |
| **23** | –°–≤—ñ—Ç–ª–æ–¥—ñ–æ–¥ | ‚ùå –ù–µ —ñ—Å–Ω—É—î (Nano –º–∞—î –ø—ñ–Ω–∏ 0-13) |
| **20 (SDA)** | LCD I2C | ‚ö†Ô∏è –ù–∞ Nano —Ü–µ **A4** |
| **21 (SCL)** | LCD I2C | ‚ö†Ô∏è –ù–∞ Nano —Ü–µ **A5** |

#### –†—ñ—à–µ–Ω–Ω—è –¥–ª—è Nano:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ü—ñ–Ω Mega | –ü—ñ–Ω Nano | –°—Ç–∞—Ç—É—Å |
|-----------|----------|----------|--------|
| –ö–Ω–æ–ø–∫–∞ —Å—Ç–∞—Ä—Ç-—Å—Ç–æ–ø | 22 | **12** | ‚úÖ –ó–∞–º—ñ–Ω–∞ |
| –°–≤—ñ—Ç–ª–æ–¥—ñ–æ–¥ | 23 | **11** | ‚úÖ –ó–∞–º—ñ–Ω–∞ |
| LCD I2C SDA | 20 | **A4** | ‚úÖ –ó–∞–º—ñ–Ω–∞ |
| LCD I2C SCL | 21 | **A5** | ‚úÖ –ó–∞–º—ñ–Ω–∞ |

### 2. –ü–∞–º'—è—Ç—å

| –ü–∞—Ä–∞–º–µ—Ç—Ä | Arduino Mega | Arduino Nano | –°—Ç–∞—Ç—É—Å |
|----------|--------------|-------------|--------|
| **Flash** | 256 KB | 32 KB | ‚ö†Ô∏è –ú–æ–∂–µ –±—É—Ç–∏ –º–∞–ª–æ |
| **SRAM** | 8 KB | 2 KB | ‚ö†Ô∏è –ú–æ–∂–µ –±—É—Ç–∏ –º–∞–ª–æ |
| **EEPROM** | 4 KB | 1 KB | ‚úÖ –î–æ—Å—Ç–∞—Ç–Ω—å–æ |

**–û—Ü—ñ–Ω–∫–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ:**
- –ö–æ–¥: ~15-20 KB (–≤ –º–µ–∂–∞—Ö 32 KB Nano)
- RAM: ~1-1.5 KB (–≤ –º–µ–∂–∞—Ö 2 KB Nano)
- EEPROM: ~4 –±–∞–π—Ç–∏ (–≤ –º–µ–∂–∞—Ö 1 KB Nano)

### 3. –ü–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è

| –ü–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è | Mega | Nano | –°—Ç–∞—Ç—É—Å |
|-------------|------|------|--------|
| INT0 (–ø—ñ–Ω 2) | ‚úÖ | ‚úÖ | ‚úÖ –ü—Ä–∞—Ü—é—î |
| INT1 (–ø—ñ–Ω 3) | ‚úÖ | ‚úÖ | ‚úÖ –ü—Ä–∞—Ü—é—î |

**–í–∏—Å–Ω–æ–≤–æ–∫:** –ü–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è –ø—Ä–∞—Ü—é—é—Ç—å –æ–¥–Ω–∞–∫–æ–≤–æ.

---

## üîß –ù–µ–æ–±—Ö—ñ–¥–Ω—ñ –∑–º—ñ–Ω–∏ –¥–ª—è Arduino Nano

### 1. –û–Ω–æ–≤–ª–µ–Ω–Ω—è config.h

```cpp
// –î–ª—è Arduino Nano –∑–º—ñ–Ω–∏—Ç–∏:
#define START_STOP_BUTTON_PIN 12  // –ó–∞–º—ñ—Å—Ç—å 22
#define START_STOP_LED_PIN 11     // –ó–∞–º—ñ—Å—Ç—å 23
#define LCD_I2C_SDA A4            // –ó–∞–º—ñ—Å—Ç—å 20
#define LCD_I2C_SCL A5            // –ó–∞–º—ñ—Å—Ç—å 21
```

### 2. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ–Ω—ñ–≤

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –ø—ñ–Ω–∏ –Ω–µ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—É—é—Ç—å:

| –ü—ñ–Ω Nano | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ö–æ–Ω—Ñ–ª—ñ–∫—Ç? |
|----------|-----------|-----------|
| 2 | KY-040 CLK (INT0) | ‚ùå –ù–µ–º–∞—î |
| 3 | KY-040 DT (INT1) | ‚ùå –ù–µ–º–∞—î |
| 4 | KY-040 SW | ‚ùå –ù–µ–º–∞—î |
| 5 | –ü–µ—Ä–µ–º–∏–∫–∞—á | ‚ùå –ù–µ–º–∞—î |
| 6 | DM556D STEP | ‚ùå –ù–µ–º–∞—î |
| 7 | DM556D DIR | ‚ùå –ù–µ–º–∞—î |
| 11 | –°–≤—ñ—Ç–ª–æ–¥—ñ–æ–¥ | ‚ùå –ù–µ–º–∞—î |
| 12 | –ö–Ω–æ–ø–∫–∞ —Å—Ç–∞—Ä—Ç-—Å—Ç–æ–ø | ‚ùå –ù–µ–º–∞—î |
| A0 | P3022-CW360 | ‚ùå –ù–µ–º–∞—î |
| A4 | LCD I2C SDA | ‚ùå –ù–µ–º–∞—î |
| A5 | LCD I2C SCL | ‚ùå –ù–µ–º–∞—î |

---

## üìä –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ø–ª–∞—Ç—Ñ–æ—Ä–º

| –ü–∞—Ä–∞–º–µ—Ç—Ä | Arduino Mega | Arduino Nano | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è |
|----------|--------------|--------------|--------------|
| **–¢–∞–π–º–µ—Ä–∏** | 6 —Ç–∞–π–º–µ—Ä—ñ–≤ | 3 —Ç–∞–π–º–µ—Ä–∏ | ‚úÖ Nano –¥–æ—Å—Ç–∞—Ç–Ω—å–æ |
| **–ü—ñ–Ω–∏** | 54 —Ü–∏—Ñ—Ä–æ–≤–∏—Ö | 14 —Ü–∏—Ñ—Ä–æ–≤–∏—Ö | ‚ö†Ô∏è –ü–æ—Ç—Ä—ñ–±–Ω—ñ –∑–º—ñ–Ω–∏ |
| **I2C** | –ü—ñ–Ω–∏ 20, 21 | –ü—ñ–Ω–∏ A4, A5 | ‚ö†Ô∏è –ü–æ—Ç—Ä—ñ–±–Ω—ñ –∑–º—ñ–Ω–∏ |
| **Flash** | 256 KB | 32 KB | ‚úÖ Nano –¥–æ—Å—Ç–∞—Ç–Ω—å–æ |
| **RAM** | 8 KB | 2 KB | ‚ö†Ô∏è –ú–æ–∂–µ –±—É—Ç–∏ –º–∞–ª–æ |
| **EEPROM** | 4 KB | 1 KB | ‚úÖ Nano –¥–æ—Å—Ç–∞—Ç–Ω—å–æ |
| **–¶—ñ–Ω–∞** | –í–∏—â–∞ | –ù–∏–∂—á–∞ | ‚úÖ Nano –¥–µ—à–µ–≤—à–µ |

---

## ‚úÖ –ü—ñ–¥—Å—É–º–æ–∫

### –¢–∞–π–º–µ—Ä–∏: ‚úÖ –î–û–°–¢–ê–¢–ù–¨–û

–ü—Ä–æ–µ–∫—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ç—ñ–ª—å–∫–∏ Timer0, —è–∫–∏–π —î –Ω–∞ –æ–±–æ—Ö –ø–ª–∞—Ç–∞—Ö. –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ç–∞–π–º–µ—Ä–∏ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω—ñ.

### –°—É–º—ñ—Å–Ω—ñ—Å—Ç—å: ‚ö†Ô∏è –ü–û–¢–†–Ü–ë–ù–Ü –ó–ú–Ü–ù–ò

1. **–ü—ñ–Ω–∏** - –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–º—ñ–Ω–∏—Ç–∏ –ø—ñ–Ω–∏ 22, 23, 20, 21
2. **I2C** - –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ A4, A5 –∑–∞–º—ñ—Å—Ç—å 20, 21
3. **–ü–∞–º'—è—Ç—å** - –¥–æ—Å—Ç–∞—Ç–Ω—å–æ, –∞–ª–µ –º–µ–Ω—à–∏–π –∑–∞–ø–∞—Å

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è

‚úÖ **Arduino Nano –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è –ø—Ä–æ–µ–∫—Ç—É** –∑ –Ω–µ–≤–µ–ª–∏–∫–∏–º–∏ –∑–º—ñ–Ω–∞–º–∏ –≤ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –ø—ñ–Ω—ñ–≤.

---

## üîß –®–≤–∏–¥–∫–µ —Ä—ñ—à–µ–Ω–Ω—è

–°—Ç–≤–æ—Ä—ñ—Ç—å –æ–∫—Ä–µ–º–∏–π —Ñ–∞–π–ª `config_nano.h` –∞–±–æ –¥–æ–¥–∞–π—Ç–µ —É–º–æ–≤–Ω—É –∫–æ–º–ø—ñ–ª—è—Ü—ñ—é:

```cpp
// –í config.h –¥–æ–¥–∞—Ç–∏:
#ifdef ARDUINO_AVR_NANO
  #define START_STOP_BUTTON_PIN 12
  #define START_STOP_LED_PIN 11
  #define LCD_I2C_SDA A4
  #define LCD_I2C_SCL A5
#else
  // Arduino Mega
  #define START_STOP_BUTTON_PIN 22
  #define START_STOP_LED_PIN 23
  #define LCD_I2C_SDA 20
  #define LCD_I2C_SCL 21
#endif
```

---

## üìù –û–Ω–æ–≤–ª–µ–Ω–∞ —Ä–æ–∑–ø—ñ–Ω–æ–≤–∫–∞ –¥–ª—è Nano

| –ü—ñ–Ω Nano | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –û–ø–∏—Å |
|----------|-----------|------|
| 2 | KY-040 CLK | INT0 |
| 3 | KY-040 DT | INT1 |
| 4 | KY-040 SW | –ö–Ω–æ–ø–∫–∞ |
| 5 | –ü–µ—Ä–µ–º–∏–∫–∞—á | CW/CCW |
| 6 | DM556D STEP | –Ü–º–ø—É–ª—å—Å–∏ |
| 7 | DM556D DIR | –ù–∞–ø—Ä—è–º–æ–∫ |
| 11 | –°–≤—ñ—Ç–ª–æ–¥—ñ–æ–¥ | –Ü–Ω–¥–∏–∫–∞—Ü—ñ—è |
| 12 | –ö–Ω–æ–ø–∫–∞ —Å—Ç–∞—Ä—Ç-—Å—Ç–æ–ø | –ó–∞–ø—É—Å–∫/–∑—É–ø–∏–Ω–∫–∞ |
| A0 | P3022-CW360 | –ê–±—Å–æ–ª—é—Ç–Ω–∏–π –µ–Ω–∫–æ–¥–µ—Ä |
| A4 | LCD I2C SDA | I2C Data |
| A5 | LCD I2C SCL | I2C Clock |

---

## ‚ö° –í–∏—Å–Ω–æ–≤–æ–∫

**–¢–∞–π–º–µ—Ä—ñ–≤ –≤–∏—Å—Ç–∞—á–∏—Ç—å –Ω–∞ Arduino Nano!** 

–ü—Ä–æ–µ–∫—Ç –º–æ–∂–Ω–∞ –∞–¥–∞–ø—Ç—É–≤–∞—Ç–∏ –¥–ª—è Nano –∑ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–º–∏ –∑–º—ñ–Ω–∞–º–∏ –≤ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –ø—ñ–Ω—ñ–≤.
